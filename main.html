<!DOCTYPE html>
<!-- saved from url=(0022)http://localhost:8000/ -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!-- Required meta tags -->

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <style>
      body {
        background: url(http://hypertensioninstitute.com/wp-content/uploads/heart-model.jpg) no-repeat center center fixed;
        -webkit-background-size: cover;
        -moz-background-size: cover;
        -o-background-size: cover;
        background-size: cover;
        padding: 40px;
      }
      label {
        font-weight: bold;
        color: white;
      }
      form {
        margin-left: auto;
        margin-right: auto;
        padding: 20px;
        background-color: rgba(50,50,50,0.5);
        border-radius: 10px;
      }
    </style>
    <title>Heart Disease Prediction System</title>
  <style type="text/css">* {}</style></head>
  <body>
    <div class="row">
      <div class="col-lg-5 mx-auto mb-1">
    <form>
      <input type="hidden" name="csrfmiddlewaretoken" value="zm6vZjLXZwiRogJ03z6Zfh7K3qJBmrS2dETs4Byewt5U3d7V4m1Vsn4g0BuLAwwh">

      <div class="form-row">

        <div class="form-group col-lg-12 mx-auto">
          <label for="id_age">Age:</label>
          <input type="number" name="age" step="1" min="0.0" max="120.0" required="" placeholder="10-120" class="form-control" id="id_age">
        </div>

      </div>
      <div class="form-row">


        <div class="form-group col-lg-12 mx-auto">
          <label for="id_sex">Sex:</label>
          <select name="sex" class="form-control" id="id_sex">
  <option value="0" selected="">Female</option>

  <option value="1">Male</option>

</select>
        </div>

      </div>
      <div class="form-row">


        <div class="form-group col-lg-12 mx-auto">
          <label for="id_cp">Chest Pain Type:</label>
          <select name="cp" class="form-control" id="id_cp">
  <option value="1" selected="">Typical Angina</option>

  <option value="2">Atypical Angina</option>

  <option value="3">Non-anginal Pain</option>

  <option value="4">Asymptomatic</option>

</select>
        </div>

      </div>
      <div class="form-row">


        <div class="form-group col-lg-12 mx-auto">
          <label for="id_trestbps">Resting Blood Pressure:</label>
          <input type="number" name="trestbps" step="1" min="0.0" max="500.0" required="" placeholder="mmHg" class="form-control" id="id_trestbps">
        </div>

      </div>
      <div class="form-row">


        <div class="form-group col-lg-12 mx-auto">
          <label for="id_chol">Serum Cholestrol:</label>
          <input type="number" name="chol" step="1" min="0.0" max="500.0" required="" placeholder="mg/dl" class="form-control" id="id_chol">
        </div>

      </div>
      <div class="form-row">


        <div class="form-group col-lg-12 mx-auto">
          <label for="id_fbs">Fasting Blood Sugar:</label>
          <select name="fbs" class="form-control" id="id_fbs">
  <option value="0" selected="">FBS &lt; 120mg/dl</option>

  <option value="1">FBS &gt; 120mg/dl</option>

</select>
        </div>

      </div>
      <div class="form-row">


        <div class="form-group col-lg-12 mx-auto">
          <label for="id_restecg">Resting Electrocardiographic Results:</label>
          <select name="restecg" class="form-control" id="id_restecg">
  <option value="0" selected="">Normal</option>

  <option value="1">ST-T Wave Abnormality</option>

  <option value="2">Left Ventricular Hypertrophy</option>

</select>
        </div>

      </div>
      <div class="form-row">


        <div class="form-group col-lg-12 mx-auto">
          <label for="id_thalach">Maximum Heart Rate Achieved:</label>
          <input type="number" name="thalach" step="1" min="0.0" max="300.0" required="" placeholder="bpm" class="form-control" id="id_thalach">
        </div>

      </div>
      <div class="form-row">


        <div class="form-group col-lg-12 mx-auto">
          <label for="id_exang">Exercise Induced Angina:</label>
          <select name="exang" class="form-control" id="id_exang">
  <option value="0" selected="">No</option>

  <option value="1">Yes</option>

</select>
        </div>

      </div>
      <div class="form-row">


        <div class="form-group col-lg-12 mx-auto">
          <label for="id_oldpeak">ST Depression Induced by Exercise Relative to Rest:</label>
          <input type="number" name="oldpeak" step="1" min="0.0" max="120.0" required="" placeholder="" class="form-control" id="id_oldpeak">
        </div>

      </div>
      <div class="form-row">


        <div class="form-group col-lg-12 mx-auto">
          <label for="id_slope">Slope of Peak Exercise ST Segment:</label>
          <select name="slope" class="form-control" id="id_slope">
  <option value="1">Downsloping</option>

  <option value="2" selected="">Flat</option>

  <option value="3">Upsloping</option>

</select>
        </div>

      </div>
      <div class="form-row">


        <div class="form-group col-lg-12 mx-auto">
          <label for="id_ca">No. of Major Vessels Colored by Flourosopy:</label>
          <input type="number" name="ca" step="1" min="0.0" max="3.0" required="" placeholder="0-3" class="form-control" id="id_ca">
        </div>

      </div>
      <div class="form-row">


        <div class="form-group col-lg-12 mx-auto">
          <label for="id_thal">Thallium Heart Scan:</label>
          <select name="thal" class="form-control" id="id_thal">
  <option value="3">Normal</option>

  <option value="6">Fixed Defect</option>

  <option value="7">Reversible Defect</option>

</select>
        </div>

      </div>
      <div class="form-row">


    </div>
      <div class="row">
        <div class="col-md-5 mx-auto mb-2">
          <button class="btn btn-danger btn-block reset-btn">Reset</button>
        </div>
      </div>
      <div class="row">
        <div class="col-md-5 mx-auto">
          <button type="submit" class="btn btn-primary btn-block" id="id_test">Test</button>
        </div>
      </div>
    </form>
    <div class="row card-success">
      <div class="col-lg-12 mt-5 mx-auto">
        <img class="card-img-top" style="border-radius: 10px 10px 0px 0px; padding: 0px;" src="./main_files/heartfruit.png" alt="Card image cap">
        <div class="card border-success mb-3" style="display:block; border-radius: 0px 0px 10px 10px;  border-style: none">
          <!--<div class="card-header bg-transparent border-success">Header</div>-->
          <div class="card-body text-success">
            <h5 class="card-title"><strong>Congratulations!!!</strong></h5>
            <p class="card-text">Our system predicted that your heart is healthy and fit. Keep up your great work in having a healty heart and lifestlye.</p>
          </div>
          <div class="card-footer bg-transparent border-success text-right" style="border-top-style: dashed"><button type="button" class="btn btn-outline-success card-success-btn">Yayy</button></div>
        </div>
      </div>
  </div>
  <div class="row card-danger">
    <div class="col-lg-12 mt-5 mx-auto">
      <img class="card-img-top" style="border-radius: 10px 10px 0px 0px; padding: 0px;" src="./main_files/sin-heart-healthy-rollup-article-cover.jpg" alt="Card image cap">
      <div class="card border-danger mb-3" style="display:block; border-radius: 0px 0px 10px 10px;  border-style: none">
        <!--<div class="card-header bg-transparent border-success">Header</div>-->
        <div class="card-body text-danger">
          <h5 class="card-title">We're sorry...</h5>
          <p class="card-text">Our system predicted that your  heart may not be healthy. You might want to change your lifestyles and habits to maintain a healthy body. Eating healthy foods and regular exercises will help you keeping a healthy lifestyle. </p>
        </div>
        <div class="card-footer bg-transparent border-danger text-right" style="border-top-style: dashed"><button type="button" class="btn btn-outline-danger card-danger-btn">Dismiss</button></div>
      </div>
    </div>
</div>
</div>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script
      src="https://code.jquery.com/jquery-3.3.1.min.js"
      integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
      crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
    <script>
      $(document).ready(function(){
        $("#id_test").click(function(e){
          e.preventDefault();
          var data = {};
          $(".form-control").each(function(index){
            data[$(this).attr('name')] = $(this).val();
          });
          data['csrfmiddlewaretoken'] = $('input[name=csrfmiddlewaretoken]').val();
          $.ajax({
            "type": "POST",
            "dataType": "json",
            "url": "http://localhost:8000/post/",
            "data": data,
            "success": function(response){
              if(response.result>=0){
                if(response.result == 1){
                    $(".card-danger").hide();
                    $(".card-success").show();
                    $(".card-success-btn").click(function(e){
                      $(".card-success").hide();
                    });
                    $(".reset-btn").click(function(e){
                      $(".card-success").hide();
                    });
                    $('html, body').stop().animate({ scrollTop: $(".card-success").offset().top }, 500);
                } else {
                  $(".card-success").hide();
                  $(".card-danger").show();
                  $(".card-danger-btn").click(function(e){
                    $(".card-danger").hide();
                  });
                  $(".reset-btn").click(function(e){
                    $(".card-danger").hide();
                  });
                  $('html, body').stop().animate({ scrollTop: $(".card-danger").offset().top }, 500);
                }
              }else{
                alert("Invalid Input!");
              }
            },
          });
        });
      });
    </script>


</div></body></html>
